-- Create the GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "ESP_GUI"
ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

-- Make the main frame of the GUI
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 300, 0, 300)
MainFrame.Position = UDim2.new(0.5, -150, 0.5, -150)
MainFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
MainFrame.Parent = ScreenGui
MainFrame.Visible = false  -- Initially hidden

-- Add a button to toggle ESP
local ToggleESPButton = Instance.new("TextButton")
ToggleESPButton.Size = UDim2.new(0, 200, 0, 50)
ToggleESPButton.Position = UDim2.new(0.5, -100, 0, 10)
ToggleESPButton.Text = "Toggle ESP"
ToggleESPButton.Parent = MainFrame

-- Add a button to toggle FOV Circle
local ToggleFOVButton = Instance.new("TextButton")
ToggleFOVButton.Size = UDim2.new(0, 200, 0, 50)
ToggleFOVButton.Position = UDim2.new(0.5, -100, 0, 70)
ToggleFOVButton.Text = "Toggle FOV Circle"
ToggleFOVButton.Parent = MainFrame

-- Add a button to toggle Aimbot
local ToggleAimbotButton = Instance.new("TextButton")
ToggleAimbotButton.Size = UDim2.new(0, 200, 0, 50)
ToggleAimbotButton.Position = UDim2.new(0.5, -100, 0, 130)
ToggleAimbotButton.Text = "Toggle Aimbot"
ToggleAimbotButton.Parent = MainFrame

-- Store the visibility status of the GUI
local guiVisible = false

-- Function to toggle the visibility of the GUI
local function toggleGUI()
    guiVisible = not guiVisible
    MainFrame.Visible = guiVisible
end

-- Listen for the INS key press to toggle the GUI
local UserInputService = game:GetService("UserInputService")

UserInputService.InputBegan:Connect(function(input, gameProcessedEvent)
    -- Check if the INS key (Insert key) is pressed and not processed by the game
    if input.KeyCode == Enum.KeyCode.Insert and not gameProcessedEvent then
        toggleGUI()
    end
end)

-- Add your ESP, FOV, and Aimbot functionality here, for example:
local espEnabled = false
local fovEnabled = false
local aimbotEnabled = false

ToggleESPButton.MouseButton1Click:Connect(function()
    espEnabled = not espEnabled
    print("ESP Enabled:", espEnabled)
    -- Add ESP toggle functionality here
end)

ToggleFOVButton.MouseButton1Click:Connect(function()
    fovEnabled = not fovEnabled
    print("FOV Circle Enabled:", fovEnabled)
    -- Add FOV circle toggle functionality here
end)

ToggleAimbotButton.MouseButton1Click:Connect(function()
    aimbotEnabled = not aimbotEnabled
    print("Aimbot Enabled:", aimbotEnabled)
    -- Add Aimbot toggle functionality here
end)


-- Initial call to highlight enemies
highlightEnemyPlayers()
