-- Load required services
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local StarterGui = game:GetService("StarterGui")
local LocalPlayer = Players.LocalPlayer

-- Notification Function
local function sendNotification(title, text, duration)
    StarterGui:SetCore("SendNotification", {
        Title = title;
        Text = text;
        Duration = duration or 5; -- Default duration is 5 seconds
    })
end

-- Main GUI Creation
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "CustomCheatGUI"
ScreenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")

-- Main Frame for GUI
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 400, 0, 500)
MainFrame.Position = UDim2.new(0.5, -200, 0.5, -250)
MainFrame.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
MainFrame.Parent = ScreenGui
MainFrame.Visible = false
MainFrame.Active = true
MainFrame.Draggable = true

local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 10)
UICorner.Parent = MainFrame

-- Tab Buttons
local TabFrame = Instance.new("Frame")
TabFrame.Size = UDim2.new(1, 0, 0, 40)
TabFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
TabFrame.Parent = MainFrame

local MainTabButton = Instance.new("TextButton")
MainTabButton.Size = UDim2.new(0, 200, 0, 40)
MainTabButton.Text = "Main (Aimbot)"
MainTabButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
MainTabButton.TextColor3 = Color3.new(1, 1, 1)
MainTabButton.Parent = TabFrame

local VisualTabButton = Instance.new("TextButton")
VisualTabButton.Size = UDim2.new(0, 200, 0, 40)
VisualTabButton.Position = UDim2.new(0, 200, 0, 0)
VisualTabButton.Text = "Visual (ESP)"
VisualTabButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
VisualTabButton.TextColor3 = Color3.new(1, 1, 1)
VisualTabButton.Parent = TabFrame

-- Tab Pages
local MainPage = Instance.new("Frame")
MainPage.Size = UDim2.new(1, 0, 1, -40)
MainPage.Position = UDim2.new(0, 0, 0, 40)
MainPage.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
MainPage.Parent = MainFrame
MainPage.Visible = true

local VisualPage = Instance.new("Frame")
VisualPage.Size = UDim2.new(1, 0, 1, -40)
VisualPage.Position = UDim2.new(0, 0, 0, 40)
VisualPage.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
VisualPage.Parent = MainFrame
VisualPage.Visible = false

-- Tab Switching Logic
MainTabButton.MouseButton1Click:Connect(function()
    MainPage.Visible = true
    VisualPage.Visible = false
end)

VisualTabButton.MouseButton1Click:Connect(function()
    MainPage.Visible = false
    VisualPage.Visible = true
end)

-- Main Tab Content for Aimbot
local AimbotKeyLabel = Instance.new("TextLabel")
AimbotKeyLabel.Size = UDim2.new(0, 300, 0, 30)
AimbotKeyLabel.Position = UDim2.new(0.1, 0, 0.1, 0)
AimbotKeyLabel.Text = "Press a key to set Aimbot Toggle Key"
AimbotKeyLabel.TextColor3 = Color3.new(1, 1, 1)
AimbotKeyLabel.BackgroundTransparency = 1
AimbotKeyLabel.Parent = MainPage

local CurrentKeyLabel = Instance.new("TextLabel")
CurrentKeyLabel.Size = UDim2.new(0, 300, 0, 30)
CurrentKeyLabel.Position = UDim2.new(0.1, 0, 0.2, 0)
CurrentKeyLabel.Text = "Current Aimbot Key: [Not Set]"
CurrentKeyLabel.TextColor3 = Color3.new(1, 1, 1)
CurrentKeyLabel.BackgroundTransparency = 1
CurrentKeyLabel.Parent = MainPage

local selectedAimbotKey = nil

-- Setting the Aimbot Toggle Key
UserInputService.InputBegan:Connect(function(input, gameProcessedEvent)
    if MainPage.Visible and not gameProcessedEvent then
        selectedAimbotKey = input.KeyCode
        CurrentKeyLabel.Text = "Current Aimbot Key: [" .. tostring(selectedAimbotKey) .. "]"
    end
end)

-- Aimbot Logic with Customizable Key
local aimbotEnabled = false
UserInputService.InputBegan:Connect(function(input, gameProcessedEvent)
    if input.KeyCode == selectedAimbotKey and not gameProcessedEvent then
        aimbotEnabled = not aimbotEnabled
        sendNotification("Aimbot Status", aimbotEnabled and "Aimbot Enabled" or "Aimbot Disabled")
    end
end)

-- GUI Visibility Toggle (Insert Key)
local guiVisible = false
UserInputService.InputBegan:Connect(function(input, gameProcessedEvent)
    if input.KeyCode == Enum.KeyCode.Insert and not gameProcessedEvent then
        guiVisible = not guiVisible
        MainFrame.Visible = guiVisible
        sendNotification("GUI Toggle", guiVisible and "GUI Shown" or "GUI Hidden")
    end
end)

-- Notify script load success
sendNotification("Script Loaded", "Welcome! Use Insert key to toggle GUI.")
